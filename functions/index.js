!function(e,n){for(var t in n)e[t]=n[t]}(this,function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t.w={},t(t.s=9)}([function(e,n){e.exports=require("firebase-functions")},function(e,n){e.exports=require("firebase-admin")},function(e,n,t){const r=t(1);t(0);r.initializeApp();const o=r.database().ref("folders");e.exports={Query:{folders:()=>o.once("value").then(e=>{const n=e.val();return null===n?[]:Object.keys(n).map(e=>Object.assign({id:e},n[e]))})},Mutation:{createFolder:(e,{input:n})=>new Promise(e=>{const t=o.push(n,()=>{e(Object.assign({id:t.key},n))})}),updateFolder(e,{input:n}){const t=o.child(n.id);return t.once("value").then(e=>{const n=e.val();if(null===n)throw new Error("404");return n}).then(e=>{const r=Object.assign(e,n);return delete r.id,t.set(r).then(()=>Object.assign({id:n.id},r))})},deleteFolder(e,{input:n}){const t=o.child(n.id);return t.once("value").then(e=>{const t=e.val();if(null===t)throw new Error("404");return Object.assign({id:n.id},t)}).then(e=>t.remove().then(()=>e))}}}},function(e,n){e.exports=require("graphql-tools")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(3),o=t(2);e.exports=r.makeExecutableSchema({typeDefs:"\ninput FolderCreateInput {\n  name: String\n}\ninput FolderInput {\n  id: String!\n  name: String\n}\ninput FolderDeleteInput {\n  id: String!\n}\ntype Folder {\n  id: String!\n  name: String\n}\ntype Query {\n  folders: [Folder]\n}\ntype Mutation {\n  createFolder(input: FolderCreateInput!): Folder\n  updateFolder(input: FolderInput): Folder\n  deleteFolder(input: FolderDeleteInput): Folder\n}\n",resolvers:o})},function(e,n){e.exports=require("graphql/utilities/schemaPrinter")},function(e,n){e.exports=require("apollo-server-express")},function(e,n){e.exports=require("cors")},function(e,n){e.exports=require("express")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(8),o=t(7),i=t(0),u=t(6),s=t(5),l=t(4),a=r();a.use(o()),a.options("*",o()),a.use((e,n,t)=>(n.setHeader("Cache-Control","no-cache, no-store, must-revalidate"),t())),a.use("/graphql",u.graphqlExpress({schema:l})),a.use("/graphiql",u.graphiqlExpress({endpointURL:"/api/graphql"})),a.use("/schema",(e,n)=>{n.set("Content-Type","text/plain"),n.send(s.printSchema(l))}),n.api=i.https.onRequest(a)}]));